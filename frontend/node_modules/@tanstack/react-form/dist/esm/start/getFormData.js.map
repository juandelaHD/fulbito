{"version":3,"file":"getFormData.js","sources":["../../../src/start/getFormData.tsx"],"sourcesContent":["import { getHeader, removeResponseHeader } from '@tanstack/react-start/server'\nimport { _tanstackInternalsCookie } from './utils'\nimport type { ServerFormState } from './types'\n\nexport const initialFormState = {\n  errorMap: {\n    onServer: undefined,\n  },\n  errors: [],\n}\n\nexport const getFormData = async () => {\n  const data = (await _tanstackInternalsCookie.parse(getHeader('Cookie')!)) as\n    | undefined\n    | ServerFormState<any, undefined>\n  // Delete the cookie before it hits the client againÂ¸\n  removeResponseHeader('Cookie')\n  if (!data) return initialFormState\n  return data\n}\n"],"names":[],"mappings":";;AAIO,MAAM,mBAAmB;AAAA,EAC9B,UAAU;AAAA,IACR,UAAU;AAAA,EACZ;AAAA,EACA,QAAQ,CAAA;AACV;AAEO,MAAM,cAAc,YAAY;AACrC,QAAM,OAAQ,MAAM,yBAAyB,MAAM,UAAU,QAAQ,CAAE;AAIvE,uBAAqB,QAAQ;AACzB,MAAA,CAAC,KAAa,QAAA;AACX,SAAA;AACT;"}